@using System.Text.RegularExpressions
@using ProgrammersBlog.Mvc.Extensions
@model ProgrammersBlog.Entities.Dtos.ArticleListDto
@{ ViewBag.Title = "Anasayfa";
    Layout = "_Layout";
    Regex regex = new Regex("<[^>]*>"); }

<div class="gtco-loader"></div>
<div id="page">
    <div class="gtco-section">
        <div class="gtco-container">

            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center gtco-heading">
                    <h2>En popüler yerler</h2>
                    <p>Dignissimos asperiores vitae velit veniam totam fuga molestias accusamus alias autem provident. Odit ab aliquam dolor eius.</p>
                </div>
            </div>



            <div class="row mt-2">
                @foreach (var article in Model.Articles)
                {

    <div class="col-lg-4 col-md-4 col-sm-6">
        <a href="/@Url.FriendlyUrlHelper(@article.Title)/@article.Id" class="fh5co-card-item ">
            <figure>
                <div class="overlay"><i class="ti-plus"></i></div>
                <img src="~/img/@article.Thumbnail" alt="@article.Title" class="img-responsive">
            </figure>
            <div class="fh5co-text">
                <h2>@article.Title</h2>
                <p>
                    @{ article.Content = regex.Replace(article.Content, ""); }
                    @(article.Content.Length>250 ? article.Content.Substring(0,250) : article.Content)
                </p>
                <p><span href="/@Url.FriendlyUrlHelper(@article.Title)/@article.Id" class="btn btn-primary">Daha Fazlasını Oku</span></p>
            </div>
        </a>
    </div>}

            </div>
        </div>
    </div>
    <div id="gtco-features">
        <div class="gtco-container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center gtco-heading animate-box">
                    <h2>Senin için Burdayız!</h2>
                    <p>Gezi deneyimini en üst noktaya taşımak için senin için yerimizi aldık!</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="feature-center animate-box" data-animate-effect="fadeIn">
                        <span class="icon">
                            <i>1</i>
                        </span>
                        <h3>Onlarca Şehir</h3>
                        <p>İyi bir deneyim için onlarca şehri senin için özenle hazırladık.</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="feature-center animate-box" data-animate-effect="fadeIn">
                        <span class="icon">
                            <i>2</i>
                        </span>
                        <h3>Binlerce Adres</h3>
                        <p>Buradaki her şey senin deneyimini en üst noktaya taşımak için hazırlandı. <br /> Önerilerin ve eleştirilerin bizim için değerli!</p>
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="feature-center animate-box" data-animate-effect="fadeIn">
                        <span class="icon">
                            <i>3</i>
                        </span>
                        <h3>Yakında Tüm Ülkelerde!</h3>
                        <p>Yakında tüm ülkeleri senin için ekliyor olacağız. Bizi takip etmeyi unutma!</p>
                    </div>
                </div>


            </div>
        </div>
    </div>
    <div class="gtco-cover gtco-cover-sm" style="background-image: url(../NewTemplate/images/img_bg_1.jpg)" data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="gtco-container text-center">
            <div class="display-t">
                <div class="display-tc">
                    <h1>Kesinlikle seveceğiniz yüksek kaliteli hizmetlerimiz var!</h1>
                </div>
            </div>
        </div>
    </div>

    <div id="gtco-counter" class="gtco-section">
        <div class="gtco-container">

            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center gtco-heading animate-box">
                    <h2>Gün Geçtikçe Büyümeye Devam Ediyoruz!</h2>
                    <p>Üye olma ve paketlerle uğraşma derdini kaldırıyoruz. <br /> Burada istediğin bilgiye erişmek ücretsiz ve premium tadında!</p>
                </div>
            </div>

            <div class="row">

                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInUp">
                    <div class="feature-center">
                        <span class="counter js-counter" data-from="0" data-to="16" data-speed="5000" data-refresh-interval="50">1</span>
                        <span class="counter-label">Şehir</span>

                    </div>
                </div>
                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInUp">
                    <div class="feature-center">
                        <span class="counter js-counter" data-from="0" data-to="50" data-speed="5000" data-refresh-interval="50">1</span>
                        <span class="counter-label">Adres</span>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInUp">
                    <div class="feature-center">
                        <span class="counter js-counter" data-from="0" data-to="12402" data-speed="5000" data-refresh-interval="50">1</span>
                        <span class="counter-label">Kullanıcı</span>
                    </div>
                </div>
                <div class="col-md-3 col-sm-6 animate-box" data-animate-effect="fadeInUp">
                    <div class="feature-center">
                        <span class="counter js-counter" data-from="0" data-to="12202" data-speed="5000" data-refresh-interval="50">1</span>
                        <span class="counter-label">Memnun Müşteri</span>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <div id="gtco-subscribe">
        <div class="gtco-container">
            <div class="row animate-box">
                <div class="col-md-8 col-md-offset-2 text-center gtco-heading">
                    <h2>Abone Ol</h2>
                    <p>Yenilikler ilk olarak haberdar olmak istiyorsan, abone olmayı unutma!</p>
                </div>
            </div>
            <div class="row animate-box">
                <div class="col-md-8 col-md-offset-2">
                    <form class="form-inline">
                        <div class="col-md-6 col-sm-6">
                            <div class="form-group">
                                <label for="email" class="sr-only">Email</label>
                                <input type="email" class="form-control" id="email" placeholder="Email Adresin">
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <button type="submit" class="btn btn-default btn-block">Abone Ol</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

    @section Scripts {
        <script>
            $(document).ready(function () {

                $(function () {

                    const selectPageSize = $('#select-page-size');
                    const selectIsAscending = $('#select-is-ascending');
                    const categoryId = $('#category-id').val();
                    const currentPage = $('#current-page').val();
                    const categoryQuery = categoryId !== null ? `&categoryId=${categoryId}` : null;

                    selectPageSize.on('change',
                        function () {
                            window.location =
                                `/?pageSize=${selectPageSize.val()}&isAscending=${selectIsAscending.val()}${categoryQuery != null ? categoryQuery : null}&currentPage=${currentPage}`;
                        });
                    selectIsAscending.on('change',
                        function () {
                            window.location =
                                `/?pageSize=${selectPageSize.val()}&isAscending=${selectIsAscending.val()}${categoryQuery != null ? categoryQuery : null}&currentPage=${currentPage}`;
                        });
                });
            });
        </script>
    }
